"use strict";(self.webpackChunkJobApp=self.webpackChunkJobApp||[]).push([[752],{2752:(w,u,i)=>{i.r(u),i.d(u,{ForgotPasswordComponent:()=>C});var l=i(4968),d=i(5694),a=i(4341),t=i(4438),p=i(6554),h=i(2130),_=i(1422),g=i(4963);function m(r,c){if(1&r){const o=t.RV6();t.j41(0,"div",5)(1,"label",10),t.EFF(2,"Enter Registered Email"),t.k0s(),t.j41(3,"input",11),t.mxI("ngModelChange",function(e){t.eBV(o);const n=t.XpG();return t.DH7(n.controlValue,e)||(n.controlValue=e),t.Njj(e)}),t.k0s()()}if(2&r){const o=t.XpG();t.R7$(3),t.R50("ngModel",o.controlValue)}}function P(r,c){if(1&r){const o=t.RV6();t.j41(0,"div",5)(1,"label",10),t.EFF(2,"Enter One-Time Password (OTP)"),t.k0s(),t.j41(3,"input",12),t.mxI("ngModelChange",function(e){t.eBV(o);const n=t.XpG();return t.DH7(n.controlValue,e)||(n.controlValue=e),t.Njj(e)}),t.k0s()()}if(2&r){const o=t.XpG();t.R7$(3),t.R50("ngModel",o.controlValue)}}function M(r,c){if(1&r){const o=t.RV6();t.j41(0,"div",13)(1,"label",14),t.EFF(2,"Password"),t.k0s(),t.j41(3,"input",15),t.mxI("ngModelChange",function(e){t.eBV(o);const n=t.XpG();return t.DH7(n.controlValue,e)||(n.controlValue=e),t.Njj(e)}),t.bIt("ngModelChange",function(){t.eBV(o);const e=t.XpG();return t.Njj(e.onChangeInPassword())}),t.k0s(),t.j41(4,"img",16),t.bIt("click",function(){t.eBV(o);const e=t.XpG();return t.Njj(e.showHidePassword("password"))}),t.k0s()(),t.j41(5,"div",5)(6,"label",14),t.EFF(7,"Confirm Password"),t.k0s(),t.j41(8,"input",17),t.mxI("ngModelChange",function(e){t.eBV(o);const n=t.XpG();return t.DH7(n.controlValue2,e)||(n.controlValue2=e),t.Njj(e)}),t.bIt("ngModelChange",function(){t.eBV(o);const e=t.XpG();return t.Njj(e.confirmPassword())})("paste",function(e){return t.eBV(o),t.Njj(e.preventDefault())}),t.k0s()()}if(2&r){const o=t.XpG();t.R7$(3),t.R50("ngModel",o.controlValue),t.R7$(5),t.R50("ngModel",o.controlValue2)}}function f(r,c){if(1&r&&(t.j41(0,"p",7),t.EFF(1),t.k0s()),2&r){const o=t.XpG();t.R7$(),t.JRh(o.errorMsg)}}let C=(()=>{class r{constructor(o,s,e,n){this.spinner=o,this.toasterService=s,this.userService=e,this.router=n,this.status="email",this.controlValue=null,this.controlValue2=null,this.controlButtton="Send OTP",this.errorMsg=null,this.isPasswordMatch=!1,this.currentUserEmail=null}resetPassAction(){"email"==this.status?this.controlValue&&l.Ge.email.test(this.controlValue)?this.sendOTPMail(this.controlValue):this.errorMsg=l.QC.email:"otp"==this.status?l.Ge.opt.test(this.controlValue)?this.validateOTP(this.controlValue):this.errorMsg="Please enter a valid OTP":"password"==this.status&&(this.controlValue&&this.controlValue2?l.Ge.password.test(this.controlValue)?this.isPasswordMatch?this.controlValue&&this.isPasswordMatch&&this.saveNewPassword(this.controlValue):this.errorMsg="Password not matched, Please validate.":this.errorMsg=l.QC.password:this.errorMsg="Please enter a valid password")}sendOTPMail(o){this.spinner.show(),this.userService.sendOTP({type:"otp",email:o}).subscribe({next:e=>{e&&(this.currentUserEmail=o,this.status="otp",this.controlButtton="Validate OTP",this.errorMsg=null,this.controlValue=null,this.toasterService.showToaster(d.NH.success,d.dF.email)),this.spinner.hide()},error:e=>{400==e?.status&&(this.errorMsg=e.error.msg),this.spinner.hide()}})}validateOTP(o){this.spinner.show(),this.userService.ValidateOTP({otp:o}).subscribe({next:e=>{e&&(this.status="password",this.controlButtton="Save",this.errorMsg=null,this.controlValue=null),this.spinner.hide()},error:e=>{400==e?.status&&(this.errorMsg=e.error.msg),this.spinner.hide()}})}saveNewPassword(o){this.spinner.show(),this.userService.resetPassword({email:this.currentUserEmail,password:o}).subscribe({next:e=>{e&&(this.toasterService.showToaster(d.NH.success,d.dF.passwordReset),this.router.navigateByUrl("login"),this.spinner.hide())},error:()=>{this.spinner.hide()}})}confirmPassword(){this.controlValue===this.controlValue2?this.isPasswordMatch=!0:(this.isPasswordMatch=!1,this.errorMsg=null)}onChangeInPassword(){this.controlValue2=null,this.errorMsg=null}showHidePassword(o){const s=document.getElementById(o);s.type="password"==s?.type?"text":"password"}static{this.\u0275fac=function(s){return new(s||r)(t.rXU(p.ex),t.rXU(h.W),t.rXU(_.D),t.rXU(g.Ix))}}static{this.\u0275cmp=t.VBU({type:r,selectors:[["app-forgot-password"]],standalone:!0,features:[t.aNF],decls:17,vars:5,consts:[[1,"container","d-flex","justify-content-center","align-items-center","my-5"],[1,"card","card_c","shadow-sm"],[1,"card-body","p-4"],[1,"text-center","mb-2","heading_fw"],[1,"text-center","text-muted"],[1,"mb-3"],[1,"d-grid","gap-2"],[1,"text-danger","m-0"],["type","button",1,"btn","btn-primary",3,"click"],[1,"text-danger","text-center"],["for","email",1,"form-label"],["type","email","name","email","id","email","placeholder","Enter your email","required","","email","",1,"form-control",3,"ngModelChange","ngModel"],["type","email","name","email","id","email","placeholder","Enter your email","required","",1,"form-control",3,"ngModelChange","ngModel"],[1,"mb-3","relative_pos"],["for","password",1,"form-label"],["type","password","name","password","id","password","placeholder","Enter your password","required","",1,"form-control",3,"ngModelChange","ngModel"],["src","images/eye.svg","alt","eye icon",1,"form-eye-img","cursor-pointer",3,"click"],["type","password","name","password","id","confirm-password","placeholder","Confirm your password","required","",1,"form-control",3,"ngModelChange","paste","ngModel"]],template:function(s,e){1&s&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),t.EFF(4,"JobQuest "),t.k0s(),t.j41(5,"p",4),t.EFF(6,"Reset your account password"),t.k0s(),t.j41(7,"form"),t.DNE(8,m,4,1,"div",5)(9,P,4,1,"div",5)(10,M,9,2),t.j41(11,"div",6),t.DNE(12,f,2,1,"p",7),t.j41(13,"button",8),t.bIt("click",function(){return e.resetPassAction()}),t.EFF(14),t.k0s(),t.j41(15,"p",9),t.EFF(16,"Please do not refresh this page."),t.k0s()()()()()()),2&s&&(t.R7$(8),t.vxM("email"==e.status?8:-1),t.R7$(),t.vxM("otp"==e.status?9:-1),t.R7$(),t.vxM("password"==e.status?10:-1),t.R7$(2),t.vxM(e.errorMsg?12:-1),t.R7$(2),t.JRh(e.controlButtton))},dependencies:[a.YN,a.qT,a.me,a.BC,a.cb,a.YS,a.Dg,a.vS,a.cV],styles:[".card_c[_ngcontent-%COMP%]{width:400px;border-radius:10px}.heading_fw[_ngcontent-%COMP%]{font-weight:600}.form-eye-img[_ngcontent-%COMP%]{position:absolute;right:5px;top:43px}.relative_pos[_ngcontent-%COMP%]{position:relative}"]})}}return r})()}}]);